<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1105px" preserveAspectRatio="none" style="width:1190px;height:1105px;" version="1.1" viewBox="0 0 1190 1105" width="1190px" zoomAndPan="magnify"><defs><filter height="300%" id="fhdmkitqa4wta" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[382eb6ada1e04da198f07371767cecd8]
cluster downloader--><polygon fill="#FFFFFF" filter="url(#fhdmkitqa4wta)" points="344,857,433,857,440,880.6094,1168,880.6094,1168,1093,344,1093,344,857" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="344" x2="440" y1="880.6094" y2="880.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="83" x="348" y="873.5332">downloader</text><!--MD5=[e64e40e2f8a522f5cd0ae1f446f20b5d]
cluster photos--><polygon fill="#FFFFFF" filter="url(#fhdmkitqa4wta)" points="22,24,77,24,84,47.6094,1048,47.6094,1048,833,22,833,22,24" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="22" x2="84" y1="47.6094" y2="47.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="49" x="26" y="40.5332">photos</text><!--MD5=[1a64855ba212241fff0ebcebc9eecbbd]
cluster downloaders--><polygon fill="#FFFFFF" filter="url(#fhdmkitqa4wta)" points="465,483,562,483,569,506.6094,1011,506.6094,1011,809,465,809,465,483" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="465" x2="569" y1="506.6094" y2="506.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="91" x="469" y="499.5332">downloaders</text><!--MD5=[45c0001ce5995c23f9d9508d7103aad7]
class FactoryDownloaderType--><rect fill="#FEFECE" filter="url(#fhdmkitqa4wta)" height="75.6719" id="FactoryDownloaderType" style="stroke: #A80036; stroke-width: 1.5;" width="164" x="988" y="893"/><ellipse cx="1003" cy="909" fill="#EB937F" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1001.5,910 L1001.5,912 L1005.5,912 L1005.5,911 L1005.5,910.5156 L1006.125,910 L1006.5,910 L1006.875,910 L1007.5,910.5156 L1007.5,911 L1007.5,914 L999.5,914 L999.0156,914 L998.5,913.375 L998.5,913 L998.5,912.625 L999.0156,912 L999.5,912 L999.5,912 L999.5,906 L999.5,906 L999.0156,906 L998.5,905.375 L998.5,905 L998.5,904.625 L999.0156,904 L999.5,904 L1007.5,904 L1007.5,907 L1007.5,907.4844 L1006.875,908 L1006.5,908 L1006.125,908 L1005.5,907.4844 L1005.5,907 L1005.5,906 L1001.5,906 L1001.5,908 L1002.5,908 L1002.5,907.5156 L1002.5,907.5156 L1003.125,907 L1003.5,907 L1003.875,907 L1004.5,907.5156 L1004.5,908 L1004.5,910 L1004.5,910.4844 L1003.875,911 L1003.875,911 L1003.5,911 L1003.125,911 L1002.5,910.4844 L1002.5,910.4844 L1002.5,910 L1001.5,910 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="132" x="1017" y="913.9102">FactoryDownloaderType</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="989" x2="1151" y1="925" y2="925"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="10" x="994" y="940.4189">IO</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="17" x="994" y="954.2549">NIO</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="989" x2="1151" y1="960.6719" y2="960.6719"/><!--MD5=[624d6d7b11f64a9471f8bb41c5ec3569]
class IDownloader--><rect fill="#FEFECE" filter="url(#fhdmkitqa4wta)" height="75.6719" id="IDownloader" style="stroke: #A80036; stroke-width: 1.5;" width="262" x="691" y="893"/><ellipse cx="782.75" cy="909" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M783.75,906 L783.75,912 L785.75,912 L786.2344,912 L786.75,912.625 L786.75,913 L786.75,913.375 L786.2344,914 L785.75,914 L779.75,914 L779.2656,914 L778.75,913.375 L778.75,913 L778.75,912.625 L779.2656,912 L779.75,912 L781.75,912 L781.75,906 L779.75,906 L779.2656,906 L778.75,905.375 L778.75,905 L778.75,904.625 L779.2656,904 L779.75,904 L785.75,904 L786.2344,904 L786.75,904.625 L786.75,905 L786.75,905.375 L786.2344,906 L785.75,906 L783.75,906 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="70" x="803.25" y="913.9102">IDownloader</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="692" x2="952" y1="925" y2="925"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="692" x2="952" y1="933" y2="933"/><ellipse cx="702" cy="944" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="163" x="711" y="948.4189">setReplaceExisting(boolean): void</text><ellipse cx="702" cy="957.8359" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="236" x="711" y="962.2549">downloadItem(String fromUrl, Path toFolder): void</text><!--MD5=[c1aa7c0c1c4b189b099b179ea400c01e]
class FactoryDownloader--><rect fill="#FEFECE" filter="url(#fhdmkitqa4wta)" height="61.8359" id="FactoryDownloader" style="stroke: #A80036; stroke-width: 1.5;" width="295" x="360.5" y="900"/><ellipse cx="450.75" cy="916" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M452.75,912.5 Q452.9531,912 453.1875,911.75 Q453.4219,911.5 453.6875,911.5 Q454.1563,911.5 454.4531,911.7813 Q454.75,912.0625 454.75,912.7188 L454.75,914.2813 Q454.75,914.9375 454.4688,915.2188 Q454.1875,915.5 453.75,915.5 Q453.3594,915.5 453.1094,915.3281 Q452.8594,915.1563 452.75,914.7031 Q452.7031,914.3906 452.5313,914.2188 Q452.2188,913.8906 451.6563,913.7031 Q451.0938,913.5 450.5313,913.5 Q449.8281,913.5 449.2344,913.7813 Q448.6563,914.0625 448.2031,914.6875 Q447.75,915.3125 447.75,916.1719 L447.75,917.0938 Q447.75,918.125 448.5938,918.8125 Q449.4375,919.5 450.9375,919.5 Q451.8281,919.5 452.4531,919.2969 Q452.8125,919.1875 453.2188,918.8281 Q453.4844,918.625 453.625,918.5625 Q453.7656,918.5 453.9375,918.5 Q454.2656,918.5 454.5,918.7656 Q454.75,919.0156 454.75,919.375 Q454.75,919.7188 454.4063,920.125 Q453.9063,920.7188 453.1094,921.0469 Q452.0625,921.5 450.7813,921.5 Q449.2813,921.5 448.0781,920.9063 Q447.1094,920.4375 446.4219,919.4219 Q445.75,918.4063 445.75,917.2031 L445.75,916.1094 Q445.75,914.8594 446.3438,913.7656 Q446.9531,912.6719 448,912.0938 Q449.0625,911.5 450.25,911.5 Q450.9688,911.5 451.5938,911.75 Q452.2188,912 452.75,912.5 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="106" x="471.25" y="920.9102">FactoryDownloader</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="361.5" x2="654.5" y1="932" y2="932"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="361.5" x2="654.5" y1="940" y2="940"/><ellipse cx="371.5" cy="951" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="269" x="380.5" y="955.4189">getDownloader(FactoryDownloaderType): IDownloader</text><!--MD5=[62192bef55f50e1821e565fcdb9cebae]
class IODownloader--><rect fill="#FEFECE" filter="url(#fhdmkitqa4wta)" height="48" id="IODownloader" style="stroke: #A80036; stroke-width: 1.5;" width="111" x="956.5" y="1029"/><ellipse cx="971.5" cy="1045" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M973.5,1041.5 Q973.7031,1041 973.9375,1040.75 Q974.1719,1040.5 974.4375,1040.5 Q974.9063,1040.5 975.2031,1040.7813 Q975.5,1041.0625 975.5,1041.7188 L975.5,1043.2813 Q975.5,1043.9375 975.2188,1044.2188 Q974.9375,1044.5 974.5,1044.5 Q974.1094,1044.5 973.8594,1044.3281 Q973.6094,1044.1563 973.5,1043.7031 Q973.4531,1043.3906 973.2813,1043.2188 Q972.9688,1042.8906 972.4063,1042.7031 Q971.8438,1042.5 971.2813,1042.5 Q970.5781,1042.5 969.9844,1042.7813 Q969.4063,1043.0625 968.9531,1043.6875 Q968.5,1044.3125 968.5,1045.1719 L968.5,1046.0938 Q968.5,1047.125 969.3438,1047.8125 Q970.1875,1048.5 971.6875,1048.5 Q972.5781,1048.5 973.2031,1048.2969 Q973.5625,1048.1875 973.9688,1047.8281 Q974.2344,1047.625 974.375,1047.5625 Q974.5156,1047.5 974.6875,1047.5 Q975.0156,1047.5 975.25,1047.7656 Q975.5,1048.0156 975.5,1048.375 Q975.5,1048.7188 975.1563,1049.125 Q974.6563,1049.7188 973.8594,1050.0469 Q972.8125,1050.5 971.5313,1050.5 Q970.0313,1050.5 968.8281,1049.9063 Q967.8594,1049.4375 967.1719,1048.4219 Q966.5,1047.4063 966.5,1046.2031 L966.5,1045.1094 Q966.5,1043.8594 967.0938,1042.7656 Q967.7031,1041.6719 968.75,1041.0938 Q969.8125,1040.5 971,1040.5 Q971.7188,1040.5 972.3438,1040.75 Q972.9688,1041 973.5,1041.5 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="79" x="985.5" y="1049.9102">IODownloader</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="957.5" x2="1066.5" y1="1061" y2="1061"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="957.5" x2="1066.5" y1="1069" y2="1069"/><path d="M820.5,1040 L820.5,1066.3516 A0,0 0 0 0 820.5,1066.3516 L921.5,1066.3516 A0,0 0 0 0 921.5,1066.3516 L921.5,1058 L956.251,1053 L921.5,1050 L921.5,1050 L911.5,1040 L820.5,1040 A0,0 0 0 0 820.5,1040 " fill="#FBFB77" filter="url(#fhdmkitqa4wta)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M911.5,1040 L911.5,1050 L921.5,1050 L911.5,1040 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="80" x="826.5" y="1058.4951">Files.copy(...)</text><!--MD5=[36cef5e9238173e5999e145666c4f478]
class NIODownloader--><rect fill="#FEFECE" filter="url(#fhdmkitqa4wta)" height="48" id="NIODownloader" style="stroke: #A80036; stroke-width: 1.5;" width="120" x="665" y="1029"/><ellipse cx="680" cy="1045" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M682,1041.5 Q682.2031,1041 682.4375,1040.75 Q682.6719,1040.5 682.9375,1040.5 Q683.4063,1040.5 683.7031,1040.7813 Q684,1041.0625 684,1041.7188 L684,1043.2813 Q684,1043.9375 683.7188,1044.2188 Q683.4375,1044.5 683,1044.5 Q682.6094,1044.5 682.3594,1044.3281 Q682.1094,1044.1563 682,1043.7031 Q681.9531,1043.3906 681.7813,1043.2188 Q681.4688,1042.8906 680.9063,1042.7031 Q680.3438,1042.5 679.7813,1042.5 Q679.0781,1042.5 678.4844,1042.7813 Q677.9063,1043.0625 677.4531,1043.6875 Q677,1044.3125 677,1045.1719 L677,1046.0938 Q677,1047.125 677.8438,1047.8125 Q678.6875,1048.5 680.1875,1048.5 Q681.0781,1048.5 681.7031,1048.2969 Q682.0625,1048.1875 682.4688,1047.8281 Q682.7344,1047.625 682.875,1047.5625 Q683.0156,1047.5 683.1875,1047.5 Q683.5156,1047.5 683.75,1047.7656 Q684,1048.0156 684,1048.375 Q684,1048.7188 683.6563,1049.125 Q683.1563,1049.7188 682.3594,1050.0469 Q681.3125,1050.5 680.0313,1050.5 Q678.5313,1050.5 677.3281,1049.9063 Q676.3594,1049.4375 675.6719,1048.4219 Q675,1047.4063 675,1046.2031 L675,1045.1094 Q675,1043.8594 675.5938,1042.7656 Q676.2031,1041.6719 677.25,1041.0938 Q678.3125,1040.5 679.5,1040.5 Q680.2188,1040.5 680.8438,1040.75 Q681.4688,1041 682,1041.5 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="88" x="694" y="1049.9102">NIODownloader</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="666" x2="784" y1="1061" y2="1061"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="666" x2="784" y1="1069" y2="1069"/><path d="M444.5,1040 L444.5,1066.3516 A0,0 0 0 0 444.5,1066.3516 L629.5,1066.3516 A0,0 0 0 0 629.5,1066.3516 L629.5,1058 L664.959,1053 L629.5,1050 L629.5,1050 L619.5,1040 L444.5,1040 A0,0 0 0 0 444.5,1040 " fill="#FBFB77" filter="url(#fhdmkitqa4wta)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M619.5,1040 L619.5,1050 L629.5,1050 L619.5,1040 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="164" x="450.5" y="1058.4951">fileChannel.transferFrom(...);</text><!--MD5=[50598971e603e7c1e5cf3683f0ecfff4]
class IGooglePhotosBuilder--><rect fill="#FEFECE" filter="url(#fhdmkitqa4wta)" height="158.6875" id="IGooglePhotosBuilder" style="stroke: #A80036; stroke-width: 1.5;" width="381" x="64.5" y="498"/><ellipse cx="190.25" cy="514" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M191.25,511 L191.25,517 L193.25,517 L193.7344,517 L194.25,517.625 L194.25,518 L194.25,518.375 L193.7344,519 L193.25,519 L187.25,519 L186.7656,519 L186.25,518.375 L186.25,518 L186.25,517.625 L186.7656,517 L187.25,517 L189.25,517 L189.25,511 L187.25,511 L186.7656,511 L186.25,510.375 L186.25,510 L186.25,509.625 L186.7656,509 L187.25,509 L193.25,509 L193.7344,509 L194.25,509.625 L194.25,510 L194.25,510.375 L193.7344,511 L193.25,511 L191.25,511 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="121" x="210.75" y="518.9102">IGooglePhotosBuilder</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="65.5" x2="444.5" y1="530" y2="530"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="65.5" x2="444.5" y1="538" y2="538"/><ellipse cx="75.5" cy="549" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="251" x="84.5" y="553.4189">setStartDate(String startDate): IGooglePhotosBuilder</text><ellipse cx="75.5" cy="562.8359" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="242" x="84.5" y="567.2549">setEndDate(String endDate): IGooglePhotosBuilder</text><ellipse cx="75.5" cy="576.6719" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="295" x="84.5" y="581.0908">setRefreshToken(String refreshToken): IGooglePhotosBuilder</text><ellipse cx="75.5" cy="590.5078" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="317" x="84.5" y="594.9268">setLocalPhotoFolder(Path localPhotoFolder): IGooglePhotosBuilder</text><ellipse cx="75.5" cy="604.3438" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="229" x="84.5" y="608.7627">setClientId(String clientId): IGooglePhotosBuilder</text><ellipse cx="75.5" cy="618.1797" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="277" x="84.5" y="622.5986">setClientSecret(String clientSecret): IGooglePhotosBuilder</text><ellipse cx="75.5" cy="632.0156" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="355" x="84.5" y="636.4346">setDownloaderType(FactoryDownloaderType type):IGooglePhotosBuilder</text><ellipse cx="75.5" cy="645.8516" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="103" x="84.5" y="650.2705">build(): GooglePhotos</text><!--MD5=[b2f3338862e555e0429aee959b4f7589]
class GooglePhotosBuilder--><rect fill="#FEFECE" filter="url(#fhdmkitqa4wta)" height="48" id="GooglePhotosBuilder" style="stroke: #A80036; stroke-width: 1.5;" width="150" x="180" y="731"/><ellipse cx="195" cy="747" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M197,743.5 Q197.2031,743 197.4375,742.75 Q197.6719,742.5 197.9375,742.5 Q198.4063,742.5 198.7031,742.7813 Q199,743.0625 199,743.7188 L199,745.2813 Q199,745.9375 198.7188,746.2188 Q198.4375,746.5 198,746.5 Q197.6094,746.5 197.3594,746.3281 Q197.1094,746.1563 197,745.7031 Q196.9531,745.3906 196.7813,745.2188 Q196.4688,744.8906 195.9063,744.7031 Q195.3438,744.5 194.7813,744.5 Q194.0781,744.5 193.4844,744.7813 Q192.9063,745.0625 192.4531,745.6875 Q192,746.3125 192,747.1719 L192,748.0938 Q192,749.125 192.8438,749.8125 Q193.6875,750.5 195.1875,750.5 Q196.0781,750.5 196.7031,750.2969 Q197.0625,750.1875 197.4688,749.8281 Q197.7344,749.625 197.875,749.5625 Q198.0156,749.5 198.1875,749.5 Q198.5156,749.5 198.75,749.7656 Q199,750.0156 199,750.375 Q199,750.7188 198.6563,751.125 Q198.1563,751.7188 197.3594,752.0469 Q196.3125,752.5 195.0313,752.5 Q193.5313,752.5 192.3281,751.9063 Q191.3594,751.4375 190.6719,750.4219 Q190,749.4063 190,748.2031 L190,747.1094 Q190,745.8594 190.5938,744.7656 Q191.2031,743.6719 192.25,743.0938 Q193.3125,742.5 194.5,742.5 Q195.2188,742.5 195.8438,742.75 Q196.4688,743 197,743.5 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="118" x="209" y="751.9102">GooglePhotosBuilder</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="181" x2="329" y1="763" y2="763"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="181" x2="329" y1="771" y2="771"/><!--MD5=[1ea58fff2cde8031bd0163350fa7cf9d]
class GooglePhotos--><rect fill="#FEFECE" filter="url(#fhdmkitqa4wta)" height="227.8672" id="GooglePhotos" style="stroke: #A80036; stroke-width: 1.5;" width="449" x="308.5" y="210"/><ellipse cx="489.25" cy="226" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M491.25,222.5 Q491.4531,222 491.6875,221.75 Q491.9219,221.5 492.1875,221.5 Q492.6563,221.5 492.9531,221.7813 Q493.25,222.0625 493.25,222.7188 L493.25,224.2813 Q493.25,224.9375 492.9688,225.2188 Q492.6875,225.5 492.25,225.5 Q491.8594,225.5 491.6094,225.3281 Q491.3594,225.1563 491.25,224.7031 Q491.2031,224.3906 491.0313,224.2188 Q490.7188,223.8906 490.1563,223.7031 Q489.5938,223.5 489.0313,223.5 Q488.3281,223.5 487.7344,223.7813 Q487.1563,224.0625 486.7031,224.6875 Q486.25,225.3125 486.25,226.1719 L486.25,227.0938 Q486.25,228.125 487.0938,228.8125 Q487.9375,229.5 489.4375,229.5 Q490.3281,229.5 490.9531,229.2969 Q491.3125,229.1875 491.7188,228.8281 Q491.9844,228.625 492.125,228.5625 Q492.2656,228.5 492.4375,228.5 Q492.7656,228.5 493,228.7656 Q493.25,229.0156 493.25,229.375 Q493.25,229.7188 492.9063,230.125 Q492.4063,230.7188 491.6094,231.0469 Q490.5625,231.5 489.2813,231.5 Q487.7813,231.5 486.5781,230.9063 Q485.6094,230.4375 484.9219,229.4219 Q484.25,228.4063 484.25,227.2031 L484.25,226.1094 Q484.25,224.8594 484.8438,223.7656 Q485.4531,222.6719 486.5,222.0938 Q487.5625,221.5 488.75,221.5 Q489.4688,221.5 490.0938,221.75 Q490.7188,222 491.25,222.5 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="79" x="509.75" y="230.9102">GooglePhotos</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="309.5" x2="756.5" y1="242" y2="242"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="316.5" y="250"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="235" x="328.5" y="257.4189">gPhotosDownloader : IGooglePhotosDownloader</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="316.5" y="263.8359"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="79" x="328.5" y="271.2549">errorText: String</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="309.5" x2="756.5" y1="277.6719" y2="277.6719"/><ellipse cx="319.5" cy="288.6719" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="171" x="328.5" y="293.0908">newBuilder(): IGooglePhotosBuilder</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="331.5" y="306.9268"/><ellipse cx="319.5" cy="316.3438" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="158" x="328.5" y="320.7627">attachObserver(IObserver): void</text><ellipse cx="319.5" cy="330.1797" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="164" x="328.5" y="334.5986">dettachObserver(IObserver): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="331.5" y="348.4346"/><ellipse cx="319.5" cy="357.8516" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="423" x="328.5" y="362.2705">updateObserver(int count, int total, String fileName, String message, Status status): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="331.5" y="376.1064"/><ellipse cx="319.5" cy="385.5234" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="115" x="328.5" y="389.9424">downloadPhotos(): void</text><ellipse cx="319.5" cy="399.3594" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="55" x="328.5" y="403.7783">stop(): void</text><ellipse cx="319.5" cy="413.1953" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="102" x="328.5" y="417.6143">getErrorText(): String</text><ellipse cx="319.5" cy="427.0313" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="94" x="328.5" y="431.4502">hasError(): boolean</text><!--MD5=[4a297d7cc079299fc3e58f4cc0874618]
class IObservable--><rect fill="#FEFECE" filter="url(#fhdmkitqa4wta)" height="89.5078" id="IObservable" style="stroke: #A80036; stroke-width: 1.5;" width="190" x="842" y="60"/><ellipse cx="898.25" cy="76" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M899.25,73 L899.25,79 L901.25,79 L901.7344,79 L902.25,79.625 L902.25,80 L902.25,80.375 L901.7344,81 L901.25,81 L895.25,81 L894.7656,81 L894.25,80.375 L894.25,80 L894.25,79.625 L894.7656,79 L895.25,79 L897.25,79 L897.25,73 L895.25,73 L894.7656,73 L894.25,72.375 L894.25,72 L894.25,71.625 L894.7656,71 L895.25,71 L901.25,71 L901.7344,71 L902.25,71.625 L902.25,72 L902.25,72.375 L901.7344,73 L901.25,73 L899.25,73 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="69" x="918.75" y="80.9102">IObservable</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="843" x2="1031" y1="92" y2="92"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="843" x2="1031" y1="100" y2="100"/><ellipse cx="853" cy="111" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="158" x="862" y="115.4189">attachObserver(IObserver): void</text><ellipse cx="853" cy="124.8359" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="164" x="862" y="129.2549">dettachObserver(IObserver): void</text><ellipse cx="853" cy="138.6719" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="113" x="862" y="143.0908">notifyObservers(): void</text><!--MD5=[1dcf94be89f1d1c6c4f8f797da90f5fa]
class IObserver--><rect fill="#FEFECE" filter="url(#fhdmkitqa4wta)" height="61.8359" id="IObserver" style="stroke: #A80036; stroke-width: 1.5;" width="428" x="319" y="74"/><ellipse cx="501.25" cy="90" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M502.25,87 L502.25,93 L504.25,93 L504.7344,93 L505.25,93.625 L505.25,94 L505.25,94.375 L504.7344,95 L504.25,95 L498.25,95 L497.7656,95 L497.25,94.375 L497.25,94 L497.25,93.625 L497.7656,93 L498.25,93 L500.25,93 L500.25,87 L498.25,87 L497.7656,87 L497.25,86.375 L497.25,86 L497.25,85.625 L497.7656,85 L498.25,85 L504.25,85 L504.7344,85 L505.25,85.625 L505.25,86 L505.25,86.375 L504.7344,87 L504.25,87 L502.25,87 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="55" x="521.75" y="94.9102">IObserver</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="320" x2="746" y1="106" y2="106"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="320" x2="746" y1="114" y2="114"/><ellipse cx="330" cy="125" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="402" x="339" y="129.4189">updateObserver(int cout, int total, String name, String message, Status status): void</text><path d="M38.5,306 L38.5,332.3516 A0,0 0 0 0 38.5,332.3516 L273.5,332.3516 A0,0 0 0 0 273.5,332.3516 L273.5,324 L312.5,316.2617 L273.5,316 L273.5,316 L263.5,306 L38.5,306 A0,0 0 0 0 38.5,306 " fill="#FBFB77" filter="url(#fhdmkitqa4wta)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M263.5,306 L263.5,316 L273.5,316 L263.5,306 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="214" x="44.5" y="324.4951">gPhotosDownloader.attachObserver()</text><path d="M792.5,297.5 L792.5,314.8516 L751.5,357.7695 L792.5,322.8516 L792.5,340.2031 A0,0 0 0 0 792.5,340.2031 L957.5,340.2031 A0,0 0 0 0 957.5,340.2031 L957.5,307.5 L947.5,297.5 L792.5,297.5 A0,0 0 0 0 792.5,297.5 " fill="#FBFB77" filter="url(#fhdmkitqa4wta)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M947.5,297.5 L947.5,307.5 L957.5,307.5 L947.5,297.5 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="144" x="798.5" y="315.9951">if status == Status.Error:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="107" x="814.5" y="332.3467">setErrorMessage()</text><!--MD5=[1bb650c15a2cc620739a6861215ee150]
class IGooglePhotosDownloader--><rect fill="#FEFECE" filter="url(#fhdmkitqa4wta)" height="117.1797" id="IGooglePhotosDownloader" style="stroke: #A80036; stroke-width: 1.5;" width="514" x="481" y="519"/><ellipse cx="659.75" cy="535" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M660.75,532 L660.75,538 L662.75,538 L663.2344,538 L663.75,538.625 L663.75,539 L663.75,539.375 L663.2344,540 L662.75,540 L656.75,540 L656.2656,540 L655.75,539.375 L655.75,539 L655.75,538.625 L656.2656,538 L656.75,538 L658.75,538 L658.75,532 L656.75,532 L656.2656,532 L655.75,531.375 L655.75,531 L655.75,530.625 L656.2656,530 L656.75,530 L662.75,530 L663.2344,530 L663.75,530.625 L663.75,531 L663.75,531.375 L663.2344,532 L662.75,532 L660.75,532 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="148" x="680.25" y="539.9102">IGooglePhotosDownloader</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="482" x2="994" y1="551" y2="551"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="482" x2="994" y1="559" y2="559"/><ellipse cx="492" cy="570" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="488" x="501" y="574.4189">downloadPhotos(String startDate, String endDate, Path localFolder, UserCredentials credentials): void</text><ellipse cx="492" cy="583.8359" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="94" x="501" y="588.2549">hasError(): boolean</text><ellipse cx="492" cy="597.6719" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="102" x="501" y="602.0908">getErrorText(): String</text><ellipse cx="492" cy="611.5078" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="55" x="501" y="615.9268">stop(): void</text><ellipse cx="492" cy="625.3438" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="247" x="501" y="629.7627">setItemDownloader(FactoryDownloaderType): void</text><!--MD5=[cae37de34803c9ae29e20419f25cb99c]
class GooglePhotosDownloader--><rect fill="#FEFECE" filter="url(#fhdmkitqa4wta)" height="75.6719" id="GooglePhotosDownloader" style="stroke: #A80036; stroke-width: 1.5;" width="178" x="733" y="717"/><ellipse cx="748" cy="733" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M750,729.5 Q750.2031,729 750.4375,728.75 Q750.6719,728.5 750.9375,728.5 Q751.4063,728.5 751.7031,728.7813 Q752,729.0625 752,729.7188 L752,731.2813 Q752,731.9375 751.7188,732.2188 Q751.4375,732.5 751,732.5 Q750.6094,732.5 750.3594,732.3281 Q750.1094,732.1563 750,731.7031 Q749.9531,731.3906 749.7813,731.2188 Q749.4688,730.8906 748.9063,730.7031 Q748.3438,730.5 747.7813,730.5 Q747.0781,730.5 746.4844,730.7813 Q745.9063,731.0625 745.4531,731.6875 Q745,732.3125 745,733.1719 L745,734.0938 Q745,735.125 745.8438,735.8125 Q746.6875,736.5 748.1875,736.5 Q749.0781,736.5 749.7031,736.2969 Q750.0625,736.1875 750.4688,735.8281 Q750.7344,735.625 750.875,735.5625 Q751.0156,735.5 751.1875,735.5 Q751.5156,735.5 751.75,735.7656 Q752,736.0156 752,736.375 Q752,736.7188 751.6563,737.125 Q751.1563,737.7188 750.3594,738.0469 Q749.3125,738.5 748.0313,738.5 Q746.5313,738.5 745.3281,737.9063 Q744.3594,737.4375 743.6719,736.4219 Q743,735.4063 743,734.2031 L743,733.1094 Q743,731.8594 743.5938,730.7656 Q744.2031,729.6719 745.25,729.0938 Q746.3125,728.5 747.5,728.5 Q748.2188,728.5 748.8438,728.75 Q749.4688,729 750,729.5 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="146" x="762" y="737.9102">GooglePhotosDownloader</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="734" x2="910" y1="749" y2="749"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="741" y="757"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="148" x="753" y="764.4189">itemDownloader : IDownloader</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="741" y="770.8359"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="133" x="753" y="778.2549">observers: List&lt;IObserver&gt;</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="734" x2="910" y1="784.6719" y2="784.6719"/><!--MD5=[c607a4095095b236a35e5fc7e30f1947]
reverse link IDownloader to IODownloader--><path d="M897.991,979.994 C924.728,996.881 953.56,1015.0905 975.54,1028.9726 " fill="none" id="IDownloader&lt;-IODownloader" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="893.988,985.745,880.816,969.147,901.464,973.908,893.988,985.745" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[2546d1c85902f10635ab297781279fc1]
reverse link IDownloader to NIODownloader--><path d="M779.25,984.886 C766.86,1000.215 753.961,1016.1714 743.852,1028.6782 " fill="none" id="IDownloader&lt;-NIODownloader" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="773.824,980.464,791.84,969.311,784.711,989.265,773.824,980.464" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[874877737a11816f525234921bcd66ce]
reverse link IGooglePhotosBuilder to GooglePhotosBuilder--><path d="M255,677.194 C255,697.277 255,716.584 255,730.817 " fill="none" id="IGooglePhotosBuilder&lt;-GooglePhotosBuilder" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="248,677.01,255,657.01,262,677.01,248,677.01" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[d52e1f6738ac2da164a32d7dc7355cf0]
reverse link IObservable to GooglePhotos--><path d="M837.035,159.694 C808.497,175.022 776.276,192.33 743.751,209.8 " fill="none" id="IObservable&lt;-GooglePhotos" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="833.826,153.472,854.758,150.175,840.451,165.805,833.826,153.472" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[109959db4b8ec818632e5fdae0acc280]
reverse link IObserver to GooglePhotos--><path d="M533,156.436 C533,172.551 533,191.089 533,209.813 " fill="none" id="IObserver&lt;-GooglePhotos" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="526,156.173,533,136.173,540,156.173,526,156.173" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[30c0f4b6091408ae2e5deb205f89620d]
link GooglePhotos$$$LEFT to GooglePhotos--><!--MD5=[48279f8a3441915be359135756310a3f]
link GooglePhotos to GooglePhotos$$$RIGHT--><!--MD5=[f8ab99d72292253d176cef355fd048c1]
reverse link IObservable to IGooglePhotosDownloader--><path d="M965.384,168.822 C992.594,239.175 1023.04,354.29 975,438 C955.431,472.101 923.862,498.607 890.058,518.871 " fill="none" id="IObservable&lt;-IGooglePhotosDownloader" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="958.874,171.394,957.863,150.229,971.852,166.144,958.874,171.394" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[b4f7891173edf17519dec8d0b96c8c10]
reverse link IGooglePhotosDownloader to GooglePhotosDownloader--><path d="M774.429,654.61 C784.743,676.16 795.514,698.663 804.193,716.797 " fill="none" id="IGooglePhotosDownloader&lt;-GooglePhotosDownloader" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="768.058,657.514,765.738,636.452,780.686,651.47,768.058,657.514" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[0b1278fcd1a2eb11102a7aaab872f6ba]
reverse link IObservable to GooglePhotosDownloader--><path d="M978.83,167.746 C986.115,181.162 992.719,195.649 997,210 C1053.82,400.483 1115.79,487.472 1012,657 C989.76,693.324 949.16,716.588 911.183,731.195 " fill="none" id="IObservable&lt;-GooglePhotosDownloader" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="972.644,171.033,968.626,150.228,984.741,163.987,972.644,171.033" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[024529a6250887f37738cde029b2e64c]
reverse link GooglePhotosDownloader to IDownloader--><path d="M822,806.699 C822,834.215 822,867.633 822,892.734 " fill="none" id="GooglePhotosDownloader&lt;-IDownloader" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="822,793.327,818,799.327,822,805.327,826,799.327,822,793.327" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[e704d4411337b5228400c9cc3d29932b]
reverse link GooglePhotos to IGooglePhotosDownloader--><path d="M633.589,448.405 C653.663,473.033 673.835,497.78 691.023,518.867 " fill="none" id="GooglePhotos&lt;-IGooglePhotosDownloader" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="625.305,438.243,625.996,445.4209,632.8875,447.5438,632.1965,440.3659,625.305,438.243" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[def55a669d41b049296b917bb1300fa5]
reverse link GooglePhotos to IGooglePhotosBuilder--><path d="M398.179,446.969 C379.116,464.215 359.949,481.555 342.112,497.692 " fill="none" id="GooglePhotos&lt;-IGooglePhotosBuilder" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="407.825,438.243,400.6921,439.3021,398.9264,446.2937,406.0592,445.2346,407.825,438.243" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[043ce846c89e9f963c641601a2d16c8c]
@startuml

package "downloader" {
    enum FactoryDownloaderType {
        IO
        NIO
    }

    interface IDownloader {
        +setReplaceExisting(boolean): void
        +downloadItem(String fromUrl, Path toFolder): void
    }

    class FactoryDownloader {
        {static} +getDownloader(FactoryDownloaderType): IDownloader
    }

    class IODownloader implements IDownloader
    note left of IODownloader: Files.copy(...)

    class NIODownloader implements IDownloader
    note left of NIODownloader
        fileChannel.transferFrom(...);
    end note
}

package "photos" {
    interface IGooglePhotosBuilder {
        +setStartDate(String startDate): IGooglePhotosBuilder
        +setEndDate(String endDate): IGooglePhotosBuilder
        +setRefreshToken(String refreshToken): IGooglePhotosBuilder
        +setLocalPhotoFolder(Path localPhotoFolder): IGooglePhotosBuilder
        +setClientId(String clientId): IGooglePhotosBuilder
        +setClientSecret(String clientSecret): IGooglePhotosBuilder
        +setDownloaderType(FactoryDownloaderType type):IGooglePhotosBuilder
        +build(): GooglePhotos
    }

    class GooglePhotosBuilder implements IGooglePhotosBuilder {
    }

    class GooglePhotos implements IObservable, IObserver {
        - gPhotosDownloader : IGooglePhotosDownloader
        - errorText: String

        {static}+ newBuilder(): IGooglePhotosBuilder

        +attachObserver(IObserver): void
        +dettachObserver(IObserver): void

        +updateObserver(int count, int total, String fileName, String message, Status status): void

        + downloadPhotos(): void
        + stop(): void
        + getErrorText(): String
        + hasError(): boolean
    }

    note left of GooglePhotos::attachObserver
        gPhotosDownloader.attachObserver()
    end note

    note right of GooglePhotos::updateObserver
        if status == Status.Error:
            setErrorMessage()
    end note

    package downloaders {
        interface IGooglePhotosDownloader extends IObservable {
            +downloadPhotos(String startDate, String endDate, Path localFolder, UserCredentials credentials): void
            +hasError(): boolean
            +getErrorText(): String
            +stop(): void
            +setItemDownloader(FactoryDownloaderType): void
        }

        class GooglePhotosDownloader implements IGooglePhotosDownloader, IObservable {
            - itemDownloader : IDownloader
            - observers: List<IObserver>
        }

        GooglePhotosDownloader *- - IDownloader

        interface IObservable {
            +attachObserver(IObserver): void
            +dettachObserver(IObserver): void
            +notifyObservers(): void
        }
        interface IObserver {
            +updateObserver(int cout, int total, String name, String message, Status status): void
        }
    }

    GooglePhotos *- - IGooglePhotosDownloader
    GooglePhotos *- - IGooglePhotosBuilder
}

@enduml

PlantUML version 1.2019.11(Sun Sep 22 12:02:15 CEST 2019)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.4+10-b304.77
Operating System: Windows 10
Default Encoding: Cp1252
Language: en
Country: US
--></g></svg>